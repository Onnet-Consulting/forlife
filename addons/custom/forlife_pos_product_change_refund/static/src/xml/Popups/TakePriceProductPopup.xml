<?xml version="1.0" encoding="utf-8" ?>
<templates id="template" xml:space="preserve">
    <t t-name="TakePriceProductPopup" owl="1">
        <div class="popup product-info-popup">
            <header class="title">
            </header>
            <main class="body">
                <table style="width:100%; border:1px solid black;">
                    <tr style="width:100%;">
                        <th style="border:1px solid black;text-align: center;width: 20%;">Cửa hàng</th>
                        <th style="border:1px solid black;text-align: center;width: 15%;">Sản phẩm</th>
                        <th style="border:1px solid black;text-align: center;width: 10%;">Số lượng</th>
                        <th style="border:1px solid black;text-align: center;width: 15%;">Tổng giảm</th>
                        <th style="border:1px solid black;text-align: center;width: 15%;">Loại lỗi</th>
                        <th style="border:1px solid black;text-align: center;width: 17%;">Lỗi</th>
                    </tr>
                    <t t-if="props.line_product_defective">
                        <t t-set="checkproduct" t-value="props.line_product_defective"/>
                    </t>
                    <t t-else="">
                        <t t-set="checkproduct" t-value="0"/>
                    </t>
                    <t t-if="props.product_defective_id">
                        <t t-set="product_defective_id" t-value="props.line_product_defective"/>
                    </t>
                    <t t-else="">
                        <t t-set="product_defective_id" t-value="0"/>
                    </t>
                    <t t-foreach="props.response" t-as="res" t-key="res.id">
                        <tr style="width:100%;">
                            <td style="border:1px solid black; text-align: center;font-size: 13px;"><t t-esc="res.store_name"/> </td>
                            <td style="border:1px solid black;text-align: center;font-size: 13px;"><t t-esc="res.product_name"/> </td>
                            <td style="border:1px solid black;text-align: center;font-size: 13px;"><t t-esc="res.quantity"/> </td>
                            <td style="border:1px solid black;text-align: center;font-size: 13px;"><t t-esc="env.pos.format_currency(res.total_reduce)"/> </td>
                            <td style="border:1px solid black;text-align: center;font-size: 13px;"><t t-esc="res.type_defective"/> </td>
                            <td style="border:1px solid black;text-align: center;font-size: 13px;"><t t-esc="res.detail_defective"/> </td>
                            <td style="border:1px solid black;text-align: center;font-size: 13px;"><input style="min-height: 22px;width: 40%;" type="checkbox" t-att-checked="res.product_defective_id == props.product_defective_id" t-on-click="onclickCheckbox" class="o_check" t-att-value="res.product_defective_id"/> </td>
                        </tr>
                    </t>
<!--                    </t>-->
                </table>
            </main>
            <footer class="footer">
                <div style="width:100%">
                    <div class="button cancel" t-on-click="cancel">
                        <t t-esc="props.cancelText"/>
                    </div>

                    <div class="button confirm highlight" t-on-click="confirm">
                        <t t-esc="props.confirmText"/>
                    </div>
                </div>
            </footer>
        </div>
    </t>
</templates>