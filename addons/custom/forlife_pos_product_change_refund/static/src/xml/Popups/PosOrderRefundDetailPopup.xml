<?xml version="1.0" encoding="utf-8" ?>
<templates id="template" xml:space="preserve">

    <t t-name="PosOrderRefundDetailPopup" owl="1">
        <div class="popup order-refund-detail-popup" style="max-width: 900px;">
            <header class="title">
                <t t-esc="props.title"/>
            </header>
            <main class="body" style="max-height: calc(100vh - 225px); overflow: auto;">
                <table style="width:100%; border:1px solid black;">
                    <tr style="width:100%; background: #4A4F59; color: white; position: sticky; top: 0;">
                        <th style="border:1px solid black; text-align: center; width: 17%;">Mã vạch</th>
                        <th style="border:1px solid black; text-align: left; width: 25%;">Tên sản phẩm</th>
                        <th style="border:1px solid black; text-align: center; width: 10%;">Số lượng</th>
                        <th style="border:1px solid black; text-align: center; width: 15%;">Đơn giá</th>
                        <th style="border:1px solid black; text-align: center; width: 13%;">Giảm giá</th>
                        <th style="border:1px solid black; text-align: center; width: 20%;">Thành tiền</th>
                    </tr>
                    <t t-foreach="props.orderline" t-as="res" t-key="res.id">
                        <tr style="width:100%;">
                            <td style="border:1px solid black; text-align: center;">
                                <t t-if="res.product.barcode">
                                    <t t-esc="res.product.barcode"/>
                                </t>
                                <t t-else="">

                                </t>

                            </td>
                            <td style="border:1px solid black; text-align: left; padding: 4px;">
                                <t t-esc="res.product.display_name"/>
                            </td>
                            <td style="border:1px solid black;text-align: center;">
                                <t t-esc="res.quantity - res.refunded_qty"/>
                            </td>
                            <td style="border:1px solid black;text-align: center;">
                                <t t-esc="env.pos.format_currency(res.original_price)"/>
                            </td>
                            <td style="border:1px solid black;text-align: center;">
                                <t t-esc="env.pos.format_currency(res.money_is_reduced)"/>
                            </td>
                            <td style="border:1px solid black;text-align: center;">
                                <t t-esc="env.pos.format_currency((res.original_price * (res.quantity- res.refunded_qty)) - res.money_is_reduced)"/>
                            </td>
                        </tr>
                    </t>
                </table>
            </main>
            <footer class="footer">
                <div class="button cancel" t-on-click="cancel">
                    <t t-esc="props.cancelText" />
                </div>
            </footer>
        </div>
    </t>
</templates>